<div class="row">
    <div class="col-xs-offset-1 col-xs-10 text-center">
        <div class="title-container">
            <div class="ribbon-left"></div>
            <div class="backflag-left"></div>
            <div class="title"><a href="#">List and deploy</a></div>
            <div class="backflag-right"></div>
            <div class="ribbon-right"></div>
        </div>
    </div>
</div>
<Message></Message>
<div class="row">
    <div class="panel panel-default col-xs-offset-1 col-xs-10">
        <div class="panel-body">
            <div class="row">
                <form class="form-inline" on-submit="submit">
                    <div class=" col-md-6">

                        <div class="form-group">
                            <label for="server" class="hidden-sm">Server : </label>

                            <div class="input-group">
                                <span class="input-group-addon">http://</span>
                                <input type="text" id="server" class="form-control" value="{{configuration.hostname}}"
                                       aria-label="host:port"
                                       placeholder="host:port">
                                <span class="input-group-addon">/manager/text</span>
                            </div>
                        </div>
                    </div>
                    <div class=" col-md-6">
                        <div class="form-group">
                            <label for="user" class="hidden-sm">User : </label>
                            <input type="text" class="form-control" id="user" value="{{configuration.user.name}}"
                                   placeholder="User">
                        </div>
                    </div>
                    <div class="col-md-offset-6 col-md-6">
                        <div class="form-group">
                            <label for="password" class="hidden-sm">Password : </label>
                            <input type="text" class="form-control" id="password"
                                   value="{{configuration.user.password}}"
                                   placeholder="Password">
                        </div>
                    </div>
                </form>
            </div>

        </div>
        {{#if deploiementInProgress.type}}
        <div class="row">
        <div class="alert alert-warning col-xs-offset-4 col-xs-4">
            <h4>Warning deployement! <i class="fa fa-refresh fa-spin"></i></h4>
            <strong>{{deploiementInProgress.type}} by {{deploiementInProgress.host}}</strong>
        </div>
        </div>
        {{/if}}
        <div class="row">
            <div class="col-xs-6 text-right">
                <button type="button" class="btn btn-default" on-click="save">
                    <i class="fa fa-floppy-o"></i>
                    Save
                </button>
                <button type="button" class="btn btn-default" disabled='{{!enabledButt}}' on-click="undeploy">
                    <i class="fa fa-trash-o"></i>
                    Undeploy
                </button>
            </div>
            <div class="col-xs-6 text-left">
                <button type="button" class="btn btn-info" disabled='{{!enabledButt}}' on-click="submit">
                    <i class="fa fa-play"></i>
                    Run
                </button>
            </div>
        </div>
        <div class="row">
            <div>
                <!-- Nav tabs -->
                <ul class="nav nav-tabs" role="tablist" style="margin-left: 2em;margin-right: 2em;">
                    <li role="presentation" class="active"><a href="#artifacts" aria-controls="artifacts" role="tab"
                                                              data-toggle="tab">Artifacts</a>
                    </li>
                    <li role="presentation"><a href="#logs" aria-controls="logs" role="tab"
                                               data-toggle="tab">Logs</a>
                    </li>
                </ul>
                <div class="tab-content">
                    <div role="tabpanel" class="tab-pane fade in active" id="artifacts">
                        <div class="col-xs-offset-1 col-xs-10">
                            <table class="table table-hover">
                                <caption>{{items.length}} Results.</caption>
                                <thead>
                                <tr>
                                    <th>
                                        <input type="checkbox" checked="{{all}}" on-click="all-checked"></th>
                                    <th>Name</th>
                                    <th>Status</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                {{#items:i}}
                                <tr>

                                    <td scope="row">
                                        <input type="checkbox" checked="{{checked[i]}}"></td>
                                    <td><a href="#" data-toggle="tooltip" data-placement="top"
                                           data-original-title="URL : {{url}}">{{name}}</a>
                                    </td>
                                    <td>
                                        {{#if status}}
                                        <span class="{{status.state === 'OK' ? 'text-success' :''}} {{status.state === 'KO' ? 'text-danger' :''}}">
                                        <i class="fa {{status.state === 'OK' ? 'fa-check' :''}} {{status.state === 'KO' ? ' fa-frown-o' :''}} "></i>
                                        {{moment(status.dt).format('DD-MM-YYYY HH:mm:ss')}}
                                        </span>

                                        {{/if}}
                                    </td>
                                    <td style="padding-top: 2px;">

                                        <div class="btn-group" style="margin-top: 4px;">
                                            <a href="bootstrap-elements.html" data-target="#"
                                               class="btn btn-raised btn-sm dropdown-toggle" data-toggle="dropdown"
                                               aria-expanded="false">
                                                <li class="fa fa-cogs"></li>
                                                <span class="caret"></span>
                                                <div class="ripple-container"></div>
                                            </a>
                                            <ul class="dropdown-menu">
                                                <li><a href="#" on-click="onDelete(this,i)"> <i class="fa fa-trash"></i>
                                                    Delete</a></li>
                                                <!--li><a href="#" on-click="onRollback(this,i)"> <i
                                                        class="fa fa-trash"></i> Rollback</a></li-->
                                            </ul>
                                        </div>
                                    </td>
                                </tr>
                                {{/items}}
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div role="tabpanel" class="tab-pane fade " id="logs">
                        <Logger></Logger>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>